<?xml version="1.0" encoding="UTF-8"?>
<databaseChangeLog
	xmlns="http://www.liquibase.org/xml/ns/dbchangelog"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xsi:schemaLocation="http://www.liquibase.org/xml/ns/dbchangelog
        http://www.liquibase.org/xml/ns/dbchangelog/dbchangelog-3.8.xsd">

	<changeSet
		id="004:01-create-ticket-iteration-completed-index"
		author="flowinquiry">
		<createIndex indexName="idx_ticket_iteration_completed"
			tableName="fw_ticket">
			<column name="iteration_id" />
			<column name="is_completed" />
		</createIndex>
	</changeSet>

	<changeSet id="004:02-create-iteration-proj-start-idx-active"
		author="flowinquiry">
		<createIndex
			indexName="idx_iteration_project_start_date_status"
			tableName="fw_project_iteration">
			<column name="project_id" />
			<column name="start_date" />
			<column name="status" />
		</createIndex>
	</changeSet>

    <changeSet id="004:03-create-ticket-overdue-index"
               author="flowinquiry">
        <createIndex
                indexName="idx_ticket_overdue"
                tableName="fw_ticket">
            <column name="is_deleted"/>
            <column name="is_completed"/>
            <column name="estimated_completion_date"/>
            <column name="id"/>
        </createIndex>
    </changeSet>

    <changeSet id="004:04-create-workflow-history-overdue-index"
               author="flowinquiry">
        <createIndex
                indexName="idx_workflow_history_overdue"
                tableName="fw_workflow_transition_history">
            <column name="ticket_id"/>
            <column name="sla_due_date"/>
            <column name="status"/>
        </createIndex>
    </changeSet>
</databaseChangeLog>
